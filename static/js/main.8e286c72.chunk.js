(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(54)},34:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=(a(34),a(8)),u=a(9),o=a(12),l=a(10),d=a(13),p=a(2),f=a.n(p),m=a(3),h=a(11),C=a(52),b={store:function(e,t){return localStorage[e]=JSON.stringify(t),Promise.resolve()},load:function(e){var t=localStorage[e]||"null";return Promise.resolve(JSON.parse(t))}};var v={addCat:function(e){return O.apply(this,arguments)},updateCat:function(e){return j.apply(this,arguments)},deleteCat:function(e){return k.apply(this,arguments)},getCatById:function(e){return g.apply(this,arguments)},loadCats:function(){return y.apply(this,arguments)}},E="cats";function O(){return(O=Object(m.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load(E);case 2:return(a=e.sent).push(t),e.next=6,b.store(E,a);case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(){return(j=Object(m.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t.id}),a.splice(n,1,t),e.next=7,b.store(E,a);case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function k(){return(k=Object(m.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),a.splice(n,1),b.store(E,a),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(){return(g=Object(m.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),e.abrupt("return",Promise.resolve(a[n]));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function y(){return(y=Object(m.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load(E);case 2:return(t=e.sent)||(t=[{id:"1",name:"Jimmy",gender:"male",age:3,rank:14,pic:"/img/jimmy.jpg",clickedInc:!1,clickedDec:!1},{id:"2",name:"Lichy",gender:"female",age:8,rank:1032,pic:"/img/lichy.jpg",clickedInc:!1,clickedDec:!1}],b.store(E,t)),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var w=function(e){return{type:"LOAD_CATS",cats:e}},x=function(){return function(){var e=Object(m.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.loadCats();case 2:a=e.sent,t(w(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},D=function(e){return{type:"ADD_CAT",addedCat:e}},N=function(e){return function(){var t=Object(m.a)(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.addCat(e);case 2:a(D(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},I=function(e){return{type:"DELETE_CAT",deletedCatId:e}},A=function(e){return function(){var t=Object(m.a)(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.deleteCat(e);case 2:a(I(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},T=function(e){return{type:"UPDATE_CAT",updatedCat:e}},S=function(e){return function(){var t=Object(m.a)(f.a.mark(function t(a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.updateCat(e);case 2:a(T(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},_=function(e){return{type:"INCREMENT_RANK",id:e}},M=function(e){return function(){var t=Object(m.a)(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getCatById(e);case 2:return(n=t.sent).rank++,n.clickedInc=!n.clickedDec,n.clickedDec=!1,console.log(n),t.next=9,v.updateCat(n);case 9:a(T(n)),a(_(e));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},L=function(e){return{type:"DECREMENT_RANK",id:e}},P=function(e){return function(){var t=Object(m.a)(f.a.mark(function t(a){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getCatById(e);case 2:return(n=t.sent).rank--,n.clickedDec=!n.clickedInc,n.clickedInc=!1,console.log(n),t.next=9,v.updateCat(n);case 9:a(T(n)),a(L(e));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},R=function(e){return{type:"SELECT_CAT",id:e}},U=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cat-preview"},r.a.createElement("img",{src:"/redux-cats"+this.props.cat.pic,alt:"cat"}),r.a.createElement("p",null,"Name: ",this.props.cat.name),r.a.createElement("p",null,"Rank: ",this.props.cat.rank),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{disabled:this.props.cat.clickedDec,onClick:this.props.onDecrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-down red-text"})),r.a.createElement("button",{disabled:this.props.cat.clickedInc,onClick:this.props.onIncrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-up green-text"}))),r.a.createElement(C.a,{to:"/cat/"+this.props.cat.id},"see more"))}}]),t}(n.Component);var B=Object(h.b)(null,function(e){return{onIncrementClick:function(t){e(M(t))},onDecrementClick:function(t){e(P(t))}}})(U);var J=Object(h.b)(function(e){return{cats:e.cats}},function(e){return{}})(function(e){return r.a.createElement("div",{className:"cat-list"},e.cats.map(function(e){return r.a.createElement(B,{cat:e,key:e.id})}))}),K=a(22),G=a(6),z=a(15),W=a(28),X={cats:[{name:"baba",id:1},{name:"mama",id:2}],selectedCat:{}},q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.c,F=Object(z.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CATS":return Object(G.a)({},e,{cats:Object(K.a)(t.cats)});case"INCREMENT_RANK":return Object(G.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(G.a)({},e,{clickedInc:!e.clickedDec,clickedDec:!1}):e})});case"DECREMENT_RANK":return Object(G.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(G.a)({},e,{clickedDec:!e.clickedInc,clickedInc:!1}):e})});case"SELECT_CAT":return Object(G.a)({},e,{selectedCat:e.cats.find(function(e){return e.id===t.id})});case"UPDATE_CAT":return Object(G.a)({},e,{cats:e.cats.map(function(e){return e.id===t.updatedCat.id?Object(G.a)({},t.updatedCat):e})});case"ADD_CAT":return Object(G.a)({},e,{cats:[].concat(Object(K.a)(e.cats),[t.addedCat])});case"DELETE_CAT":return Object(G.a)({},e,{cats:e.cats.filter(function(e){return e.id!==t.deletedCatId})});default:return e}},q(Object(z.a)(W.a))),H=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onLoad();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page"},r.a.createElement(J,{store:F}))}}]),t}(n.Component);var V=Object(h.b)(function(e){return{cats:e.cats}},function(e){return{onLoad:function(){e(x())}}})(H),$=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.id,this.props.onDetailsLoad(t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cat-details"},r.a.createElement("img",{src:"/redux-cats"+this.props.selectedCat.pic,alt:"cat"}),r.a.createElement("p",null,"This is ",this.props.selectedCat.name),r.a.createElement("p",null,"male"===this.props.selectedCat.gender?"He":"She"," is ",this.props.selectedCat.age," years old."),r.a.createElement("p",null,this.props.selectedCat.rank," people like ",this.props.selectedCat.name,"!"),r.a.createElement(C.a,{to:"edit/"+this.props.selectedCat.id},"Edit"),r.a.createElement("br",null))}}]),t}(n.Component);var Q=Object(h.b)(function(e){return{selectedCat:e.selectedCat}},function(e){return{onDetailsLoad:function(t){e(R(t))}}})($),Y=a(58),Z={getRandomInt:ee,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},makeLorem:function(e){var t="";for(;t.length<e;){var a=ee(3,6),n=te(a);Math.random()>.9&&(n+=","),t+=n+" "}return t=(t=t.substring(0,e))[0].toUpperCase()+t.substr(1)},getCurrency:function(e){switch(e){case"ILS":return"\u20aa";case"EUR":return"\u20ac";case"USD":return"$";default:return""}}};function ee(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function te(e){for(var t="";t.length<e;){t+=ae()}return t}function ae(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}var ne=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this))).handleNameChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(G.a)({},a.state.selectedCat,{name:t})})},a.handleAgeChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(G.a)({},a.state.selectedCat,{age:t})})},a.handleGenderChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(G.a)({},a.state.selectedCat,{gender:t})})};var n=e.match.params.id;return"new"===n?(n=Z.makeId(6),a.state={selectedCat:{id:n,name:"",age:"",gender:"",rank:0,pic:"https://cataas.com/cat"},toCatsPage:!1,toCatDetails:!1,addCat:!0}):a.state={selectedCat:Object(G.a)({},e.selectedCat),toCatsPage:!1,toCatDetails:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"new"!==(t=this.props.match.params.id)&&(this.props.onEditLoad(t),this.setState({selectedCat:Object(G.a)({},this.props.selectedCat)}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.toCatsPage?r.a.createElement(Y.a,{to:"/cat"}):!0===this.state.toCatDetails?r.a.createElement(Y.a,{to:"/cat/"+this.state.selectedCat.id}):r.a.createElement("div",{className:"cat-edit"},this.props.selectedCat&&r.a.createElement(C.a,{to:"/cat/"+this.props.selectedCat.id},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("form",{onSubmit:this.props.onSubmitCat.bind(this)},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:this.state.selectedCat.name,onChange:this.handleNameChange})),r.a.createElement("label",null,"Age:",r.a.createElement("input",{type:"number",value:this.state.selectedCat.age,onChange:this.handleAgeChange})),r.a.createElement("label",null,"Gender:",r.a.createElement("select",{type:"text",value:this.state.selectedCat.gender,onChange:this.handleGenderChange},r.a.createElement("option",null,"Choose gender"),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement("button",{type:"submit"},"save"),r.a.createElement("button",{type:"button",onClick:this.props.onDeleteCat.bind(this)},"delete")))}}]),t}(n.Component);var re=Object(h.b)(function(e){return{selectedCat:e.selectedCat}},function(e){return{onEditLoad:function(t){e(R(t))},onSubmitCat:function(t){var a=this;t.preventDefault(),this.state.addCat?(e(N(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatsPage:!0})},300)):(e(S(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatDetails:!0})},300))},onDeleteCat:function(){var t=this;e(A(this.state.selectedCat.id)),setTimeout(function(){return t.setState({toCatsPage:!0})},300)}}})(ne),ce=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page"},"homepage under construction")}}]),t}(n.Component),se=a(56);var ie=function(){return r.a.createElement("header",{className:"nav-bar"},r.a.createElement(se.a,{exact:!0,to:"/"},r.a.createElement("h3",{className:"capitalize pointer"},"Cats")),r.a.createElement("div",null,r.a.createElement(se.a,{to:"/cat/edit/new"},"Add Cat"),r.a.createElement(se.a,{to:"/cat"},r.a.createElement("i",{className:"fas fa-cat"}))))},ue=a(57),oe=a(59),le=a(55),de=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(ue.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(oe.a,null,r.a.createElement(le.a,{path:"/",exact:!0,component:ce}),r.a.createElement(le.a,{path:"/cat",exact:!0,component:V}),r.a.createElement(le.a,{render:function(e){return r.a.createElement(re,e)},path:"/cat/edit/:id"}),r.a.createElement(le.a,{path:"/cat/:id",render:function(e){return r.a.createElement(Q,Object.assign({},e,{store:F}))}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(h.a,{store:F},r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.8e286c72.chunk.js.map