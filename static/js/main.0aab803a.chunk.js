(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(55)},34:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=(a(34),a(2)),o=a.n(i),u=a(3),l=a(8),d=a(9),p=a(13),m=a(10),f=a(12),h=a(11),b=a(53),C={store:function(e,t){return localStorage[e]=JSON.stringify(t),Promise.resolve()},load:function(e){var t=localStorage[e]||"null";return Promise.resolve(JSON.parse(t))}};var v={addCat:function(e){return E.apply(this,arguments)},updateCat:function(e){return O.apply(this,arguments)},deleteCat:function(e){return g.apply(this,arguments)},getCatById:function(e){return j.apply(this,arguments)},loadCats:function(){return y.apply(this,arguments)}},k="cats";function E(){return(E=Object(u.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.load(k);case 2:return(a=e.sent).push(t),e.next=6,C.store(k,a);case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.load(k);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t.id}),a.splice(n,1,t),e.next=7,C.store(k,a);case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(){return(g=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.load(k);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),a.splice(n,1),C.store(k,a),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark(function e(t){var a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.load(k);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),e.abrupt("return",Promise.resolve(a[n]));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function y(){return(y=Object(u.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.load(k);case 2:return(t=e.sent)||(t=[{id:"1",name:"Jimmy",gender:"male",age:3,rank:783,pic:"/img/jimmy.jpg",clickedInc:!1,clickedDec:!1},{id:"2",name:"Lichy",gender:"female",age:8,rank:1032,pic:"/img/lichy.jpg",clickedInc:!1,clickedDec:!1},{id:"3",name:"Mizi",gender:"female",age:1,rank:20568,pic:"/img/mizi.jpg",clickedInc:!1,clickedDec:!1},{id:"4",name:"Whiskers",gender:"female",age:6,rank:511,pic:"/img/whiskers.jpg",clickedInc:!1,clickedDec:!1},{id:"5",name:"Leonard",gender:"male",age:3,rank:679,pic:"/img/leonard.jpg",clickedInc:!1,clickedDec:!1},{id:"6",name:"Bianca",gender:"female",age:4,rank:854,pic:"/img/bianca.jpg",clickedInc:!1,clickedDec:!1}],C.store(k,t)),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var x=function(e){return{type:"LOAD_CATS",cats:e}},w=function(){return function(){var e=Object(u.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.loadCats();case 2:return a=e.sent,t(x(a)),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},N=function(e){return{type:"ADD_CAT",addedCat:e}},D=function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.addCat(e);case 2:a(N(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},R=function(e){return{type:"DELETE_CAT",deletedCatId:e}},S=function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.deleteCat(e);case 2:a(R(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},I=function(e){return{type:"UPDATE_CAT",updatedCat:e}},T=function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.updateCat(e);case 2:a(I(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},A=function(e){return{type:"INCREMENT_RANK",id:e}},L=function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getCatById(e);case 2:return(n=t.sent).rank++,n.clickedInc=!n.clickedDec,n.clickedDec=!1,t.next=8,v.updateCat(n);case 8:a(I(n)),a(A(e));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},_=function(e){return{type:"DECREMENT_RANK",id:e}},M=function(e){return function(){var t=Object(u.a)(o.a.mark(function t(a){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getCatById(e);case 2:return(n=t.sent).rank--,n.clickedDec=!n.clickedInc,n.clickedInc=!1,t.next=8,v.updateCat(n);case 8:a(I(n)),a(_(e));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return{type:"SELECT_CAT",id:e}},F=function(e){return{type:"SORT_NAME",order:e}},B=function(e){return{type:"SORT_RANK",order:e}},K=function(e){return{type:"FILTER_LIST",filter:e}},U=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cat-preview"},r.a.createElement("img",{src:"/redux-cats"+this.props.cat.pic,alt:"cat"}),r.a.createElement("p",null,"Name: ",this.props.cat.name),r.a.createElement("p",null,"Likes: ",this.props.cat.rank),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{disabled:this.props.cat.clickedDec,onClick:this.props.onDecrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-down red-text"})),r.a.createElement("button",{disabled:this.props.cat.clickedInc,onClick:this.props.onIncrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-up green-text"}))),r.a.createElement(b.a,{to:"/redux-cats/cat/"+this.props.cat.id},"see more"))}}]),t}(n.Component);var z=Object(h.b)(null,function(e){return{onIncrementClick:function(t){e(L(t))},onDecrementClick:function(t){e(M(t))}}})(U);var J=Object(h.b)(function(e){return{cats:e.catR.cats,sortName:e.catR.sortName,sortRank:e.catR.sortRank,filter:e.catR.filter}},function(e){return{}})(function(e){var t=e.sortRank,a=e.sortName,n=e.cats,c=e.filter;return r.a.createElement("div",{className:"cat-list"},n.sort(function(e,n){return null!==t?t?n.rank-e.rank:e.rank-n.rank:a?n.name>e.name?1:-1:n.name<e.name?1:-1}).filter(function(e){return e.name.toLowerCase().includes(c.toLowerCase())}).map(function(e){return r.a.createElement(z,{cat:e,key:e.id})}))}),G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={sortName:!1,sortRank:!1},e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onSortNameClick",value:function(){var e=!this.state.sortName;this.setState({sortName:e}),this.props.onSortNameClick(e)}},{key:"onSortRankClick",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!this.state.sortRank,this.setState({sortRank:t}),this.props.onSortRankClick(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.sortName,a=e.sortRank;return r.a.createElement("div",{className:"cat-filter flex"},r.a.createElement("h2",null),r.a.createElement("button",{onClick:this.onSortRankClick.bind(this)},a?r.a.createElement("i",{className:"fas fa-sort-numeric-up"}):r.a.createElement("i",{className:"fas fa-sort-numeric-down"})),r.a.createElement("button",{onClick:this.onSortNameClick.bind(this)},t?r.a.createElement("i",{className:"fas fa-sort-alpha-up"}):r.a.createElement("i",{className:"fas fa-sort-alpha-down"})),r.a.createElement("input",{type:"text",onChange:this.props.onFilterChange,placeholder:"search"}))}}]),t}(n.Component);var W=Object(h.b)(null,function(e){return{onSortNameClick:function(t){e(F(t))},onSortRankClick:function(t){e(B(t))},onFilterChange:function(t){console.log(t.target.value),e(K(t.target.value))}}})(G),X=a(15),q=a(28),H=a(22),V=a(6),$={cats:[{name:"baba",id:1},{name:"mama",id:2}],selectedCat:{},sortName:null,sortRank:null,filter:""},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CATS":return Object(V.a)({},e,{cats:Object(H.a)(t.cats)});case"SORT_NAME":return Object(V.a)({},e,{sortName:t.order,sortRank:null});case"SORT_RANK":return Object(V.a)({},e,{sortName:null,sortRank:t.order});case"FILTER_LIST":return console.log(),Object(V.a)({},e,{filter:t.filter});case"INCREMENT_RANK":return Object(V.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(V.a)({},e,{clickedInc:!e.clickedDec,clickedDec:!1}):e})});case"DECREMENT_RANK":return Object(V.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(V.a)({},e,{clickedDec:!e.clickedInc,clickedInc:!1}):e})});case"SELECT_CAT":return Object(V.a)({},e,{selectedCat:e.cats.find(function(e){return e.id===t.id})});case"UPDATE_CAT":return Object(V.a)({},e,{cats:e.cats.map(function(e){return e.id===t.updatedCat.id?Object(V.a)({},t.updatedCat):e})});case"ADD_CAT":return Object(V.a)({},e,{cats:[].concat(Object(H.a)(e.cats),[t.addedCat])});case"DELETE_CAT":return Object(V.a)({},e,{cats:e.cats.filter(function(e){return e.id!==t.deletedCatId})});default:return e}},Y=Object(X.c)({catR:Q}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,ee=Object(X.e)(Y,Z(Object(X.a)(q.a))),te=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page"},r.a.createElement(W,{store:ee}),r.a.createElement(J,{store:ee}))}}]),t}(n.Component),ae=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.props.onLoad();case 3:this.props.onDetailsLoad(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.selectedCat&&r.a.createElement("div",{className:"cat-details"},r.a.createElement("img",{src:"/redux-cats"+this.props.selectedCat.pic,alt:"cat"}),r.a.createElement("p",null,"This is ",this.props.selectedCat.name),r.a.createElement("p",null,"male"===this.props.selectedCat.gender?"He":"She"," is ",this.props.selectedCat.age," years old."),r.a.createElement("p",null,this.props.selectedCat.rank," people like ",this.props.selectedCat.name,"!"),r.a.createElement(b.a,{to:"edit/"+this.props.selectedCat.id},"Edit"),r.a.createElement("br",null)))}}]),t}(n.Component);var ne=Object(h.b)(function(e){return{selectedCat:e.catR.selectedCat}},function(e){return{onDetailsLoad:function(t){e(P(t))},onLoad:function(){var t=Object(u.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(w());case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}})(ae),re=a(58),ce={getRandomInt:se,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},makeLorem:function(e){var t="";for(;t.length<e;){var a=se(3,6),n=ie(a);Math.random()>.9&&(n+=","),t+=n+" "}return t=(t=t.substring(0,e))[0].toUpperCase()+t.substr(1)},getCurrency:function(e){switch(e){case"ILS":return"\u20aa";case"EUR":return"\u20ac";case"USD":return"$";default:return""}}};function se(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function ie(e){for(var t="";t.length<e;){t+=oe()}return t}function oe(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}var ue=function(e){function t(e){var a;if(Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this))).handleNameChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(V.a)({},a.state.selectedCat,{name:t})})},a.handleAgeChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(V.a)({},a.state.selectedCat,{age:t})})},a.handleGenderChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(V.a)({},a.state.selectedCat,{gender:t})})},a.id=e.match.params.id,"new"===a.id){var n=ce.makeId(6);a.state={selectedCat:{id:n,name:"",age:"",gender:"",rank:0,pic:"https://cataas.com/cat"},toCatsPage:!1,toCatDetails:!1,addCat:!0}}else a.state={selectedCat:e.selectedCat,toCatsPage:!1,toCatDetails:!1};return a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.id){e.next=5;break}return e.next=3,this.props.onLoad();case 3:this.props.onEditLoad(this.id),this.setState({selectedCat:this.props.selectedCat});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.toCatsPage?r.a.createElement(re.a,{to:"/redux-cats/cat"}):!0===this.state.toCatDetails?r.a.createElement(re.a,{to:"/redux-cats/cat/"+this.state.selectedCat.id}):r.a.createElement(r.a.Fragment,null,this.props.selectedCat&&r.a.createElement("div",{className:"cat-edit"},"new"!==this.id&&r.a.createElement(b.a,{to:"/redux-cats/cat/"+this.props.selectedCat.id},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("form",{onSubmit:this.props.onSubmitCat.bind(this)},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:this.state.selectedCat.name,onChange:this.handleNameChange})),r.a.createElement("label",null,"Age:",r.a.createElement("input",{type:"number",value:this.state.selectedCat.age,onChange:this.handleAgeChange})),r.a.createElement("label",null,"Gender:",r.a.createElement("select",{type:"text",value:this.state.selectedCat.gender,onChange:this.handleGenderChange},r.a.createElement("option",null,"Choose gender"),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement("div",{className:"wrapper flex p-10 justify-center"},r.a.createElement("button",{type:"submit",className:"pointer"},"save"),"new"!==this.id&&r.a.createElement("button",{type:"button",className:"pointer",onClick:this.props.onDeleteCat.bind(this)},"delete")))))}}]),t}(n.Component);var le=Object(h.b)(function(e){return{selectedCat:e.catR.selectedCat}},function(e){return{onLoad:function(){var t=Object(u.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(w());case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onEditLoad:function(t){e(P(t))},onSubmitCat:function(t){var a=this;t.preventDefault(),this.state.addCat?(e(D(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatsPage:!0})},300)):(e(T(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatDetails:!0})},300))},onDeleteCat:function(){var t=this;e(S(this.state.selectedCat.id)),setTimeout(function(){return t.setState({toCatsPage:!0})},300)}}})(ue),de=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page text-center"},r.a.createElement("div",null,r.a.createElement("h2",{className:"capitalize p-10"},"homepage under construction")))}}]),t}(n.Component),pe=a(57);var me=function(){return r.a.createElement("header",{className:"nav-bar"},r.a.createElement(pe.a,{exact:!0,to:"/redux-cats/"},r.a.createElement("h3",{className:"capitalize pointer"},r.a.createElement("i",{className:"fas fa-cat"}))),r.a.createElement("div",null,r.a.createElement(pe.a,{to:"/redux-cats/cat"},"Cat Gallery"),r.a.createElement(pe.a,{to:"/redux-cats/cat/edit/new"},"Add Cat")))},fe=a(59),he=a(60),be=a(56),Ce=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.onLoad();case 2:console.log(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.cats&&r.a.createElement(fe.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(me,null),r.a.createElement(he.a,null,r.a.createElement(be.a,{path:"/redux-cats/",exact:!0,component:de}),r.a.createElement(be.a,{path:"/redux-cats/cat",exact:!0,component:te}),r.a.createElement(be.a,{render:function(e){return r.a.createElement(le,e)},path:"/redux-cats/cat/edit/:id"}),r.a.createElement(be.a,{path:"/redux-cats/cat/:id",render:function(e){return r.a.createElement(ne,Object.assign({},e,{store:ee}))}})))))}}]),t}(n.Component);var ve=Object(h.b)(function(e){return{cats:e.catR.cats}},function(e){return{onLoad:function(){e(w())}}})(Ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(h.a,{store:ee},r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.0aab803a.chunk.js.map