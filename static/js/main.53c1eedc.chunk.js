(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(54)},34:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=(a(34),a(2)),u=a.n(i),o=a(3),l=a(8),d=a(9),p=a(13),m=a(10),f=a(12),h=a(11),b=a(52),v={store:function(e,t){return localStorage[e]=JSON.stringify(t),Promise.resolve()},load:function(e){var t=localStorage[e]||"null";return Promise.resolve(JSON.parse(t))}};var C={addCat:function(e){return k.apply(this,arguments)},updateCat:function(e){return g.apply(this,arguments)},deleteCat:function(e){return j.apply(this,arguments)},getCatById:function(e){return O.apply(this,arguments)},loadCats:function(){return y.apply(this,arguments)}},E="cats";function k(){return(k=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.load(E);case 2:return(a=e.sent).push(t),e.next=6,v.store(E,a);case 6:return e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function g(){return(g=Object(o.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t.id}),a.splice(n,1,t),e.next=7,v.store(E,a);case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(){return(j=Object(o.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),a.splice(n,1),v.store(E,a),e.abrupt("return",Promise.resolve());case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function O(){return(O=Object(o.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.load(E);case 2:return a=e.sent,n=a.findIndex(function(e){return e.id===t}),e.abrupt("return",Promise.resolve(a[n]));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function y(){return(y=Object(o.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.load(E);case 2:return(t=e.sent)||(t=[{id:"1",name:"Jimmy",gender:"male",age:3,rank:783,pic:"/img/jimmy.jpg",clickedInc:!1,clickedDec:!1},{id:"2",name:"Lichy",gender:"female",age:8,rank:1032,pic:"/img/lichy.jpg",clickedInc:!1,clickedDec:!1},{id:"3",name:"Mizi",gender:"female",age:1,rank:20568,pic:"/img/mizi.jpg",clickedInc:!1,clickedDec:!1},{id:"4",name:"Whiskers",gender:"female",age:6,rank:511,pic:"/img/whiskers.jpg",clickedInc:!1,clickedDec:!1},{id:"5",name:"Leonard",gender:"male",age:3,rank:679,pic:"/img/leonard.jpg",clickedInc:!1,clickedDec:!1},{id:"6",name:"Bianca",gender:"female",age:4,rank:854,pic:"/img/bianca.jpg",clickedInc:!1,clickedDec:!1}],v.store(E,t)),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var x=function(e){return{type:"LOAD_CATS",cats:e}},w=function(){return function(){var e=Object(o.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.loadCats();case 2:return a=e.sent,t(x(a)),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},D=function(e){return{type:"ADD_CAT",addedCat:e}},N=function(e){return function(){var t=Object(o.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.addCat(e);case 2:a(D(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},I=function(e){return{type:"DELETE_CAT",deletedCatId:e}},A=function(e){return function(){var t=Object(o.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.deleteCat(e);case 2:a(I(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},T=function(e){return{type:"UPDATE_CAT",updatedCat:e}},S=function(e){return function(){var t=Object(o.a)(u.a.mark(function t(a){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.updateCat(e);case 2:a(T(e));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},L=function(e){return{type:"INCREMENT_RANK",id:e}},M=function(e){return function(){var t=Object(o.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getCatById(e);case 2:return(n=t.sent).rank++,n.clickedInc=!n.clickedDec,n.clickedDec=!1,console.log(n),t.next=9,C.updateCat(n);case 9:a(T(n)),a(L(e));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},_=function(e){return{type:"DECREMENT_RANK",id:e}},P=function(e){return function(){var t=Object(o.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.getCatById(e);case 2:return(n=t.sent).rank--,n.clickedDec=!n.clickedInc,n.clickedInc=!1,console.log(n),t.next=9,C.updateCat(n);case 9:a(T(n)),a(_(e));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},R=function(e){return{type:"SELECT_CAT",id:e}},B=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"cat-preview"},r.a.createElement("img",{src:"/redux-cats"+this.props.cat.pic,alt:"cat"}),r.a.createElement("p",null,"Name: ",this.props.cat.name),r.a.createElement("p",null,"Rank: ",this.props.cat.rank),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{disabled:this.props.cat.clickedDec,onClick:this.props.onDecrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-down red-text"})),r.a.createElement("button",{disabled:this.props.cat.clickedInc,onClick:this.props.onIncrementClick.bind({},this.props.cat.id)},r.a.createElement("i",{className:"fas fa-thumbs-up green-text"}))),r.a.createElement(b.a,{to:"/redux-cats/cat/"+this.props.cat.id},"see more"))}}]),t}(n.Component);var U=Object(h.b)(null,function(e){return{onIncrementClick:function(t){e(M(t))},onDecrementClick:function(t){e(P(t))}}})(B);var z=Object(h.b)(function(e){return{cats:e.catR.cats}},function(e){return{}})(function(e){return r.a.createElement("div",{className:"cat-list"},e.cats.sort(function(e,t){return t.rank-e.rank}).map(function(e){return r.a.createElement(U,{cat:e,key:e.id})}))}),J=a(15),F=a(28),G=a(22),K=a(7),W={cats:[{name:"baba",id:1},{name:"mama",id:2}],selectedCat:{}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CATS":return Object(K.a)({},e,{cats:Object(G.a)(t.cats)});case"INCREMENT_RANK":return Object(K.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(K.a)({},e,{clickedInc:!e.clickedDec,clickedDec:!1}):e})});case"DECREMENT_RANK":return Object(K.a)({},e,{cats:e.cats.map(function(e){return e.id===t.id?Object(K.a)({},e,{clickedDec:!e.clickedInc,clickedInc:!1}):e})});case"SELECT_CAT":return Object(K.a)({},e,{selectedCat:e.cats.find(function(e){return e.id===t.id})});case"UPDATE_CAT":return Object(K.a)({},e,{cats:e.cats.map(function(e){return e.id===t.updatedCat.id?Object(K.a)({},t.updatedCat):e})});case"ADD_CAT":return Object(K.a)({},e,{cats:[].concat(Object(G.a)(e.cats),[t.addedCat])});case"DELETE_CAT":return Object(K.a)({},e,{cats:e.cats.filter(function(e){return e.id!==t.deletedCatId})});default:return e}},q=Object(J.c)({catR:X}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,V=Object(J.e)(q,H(Object(J.a)(F.a))),$=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page"},r.a.createElement(z,{store:V}))}}]),t}(n.Component),Q=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,this.props.onLoad();case 3:this.props.onDetailsLoad(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.selectedCat&&r.a.createElement("div",{className:"cat-details"},r.a.createElement("img",{src:"/redux-cats"+this.props.selectedCat.pic,alt:"cat"}),r.a.createElement("p",null,"This is ",this.props.selectedCat.name),r.a.createElement("p",null,"male"===this.props.selectedCat.gender?"He":"She"," is ",this.props.selectedCat.age," years old."),r.a.createElement("p",null,this.props.selectedCat.rank," people like ",this.props.selectedCat.name,"!"),r.a.createElement(b.a,{to:"edit/"+this.props.selectedCat.id},"Edit"),r.a.createElement("br",null)))}}]),t}(n.Component);var Y=Object(h.b)(function(e){return{selectedCat:e.catR.selectedCat}},function(e){return{onDetailsLoad:function(t){e(R(t))},onLoad:function(){var t=Object(o.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(w());case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}})(Q),Z=a(57),ee={getRandomInt:te,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},makeLorem:function(e){var t="";for(;t.length<e;){var a=te(3,6),n=ae(a);Math.random()>.9&&(n+=","),t+=n+" "}return t=(t=t.substring(0,e))[0].toUpperCase()+t.substr(1)},getCurrency:function(e){switch(e){case"ILS":return"\u20aa";case"EUR":return"\u20ac";case"USD":return"$";default:return""}}};function te(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function ae(e){for(var t="";t.length<e;){t+=ne()}return t}function ne(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}var re=function(e){function t(e){var a;if(Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this))).handleNameChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(K.a)({},a.state.selectedCat,{name:t})})},a.handleAgeChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(K.a)({},a.state.selectedCat,{age:t})})},a.handleGenderChange=function(e){var t=e.target.value;a.setState({selectedCat:Object(K.a)({},a.state.selectedCat,{gender:t})})},a.id=e.match.params.id,"new"===a.id){var n=ee.makeId(6);a.state={selectedCat:{id:n,name:"",age:"",gender:"",rank:0,pic:"https://cataas.com/cat"},toCatsPage:!1,toCatDetails:!1,addCat:!0}}else a.state={selectedCat:e.selectedCat,toCatsPage:!1,toCatDetails:!1};return a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.id){e.next=5;break}return e.next=3,this.props.onLoad();case 3:this.props.onEditLoad(this.id),this.setState({selectedCat:this.props.selectedCat});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.toCatsPage?r.a.createElement(Z.a,{to:"/redux-cats/cat"}):!0===this.state.toCatDetails?r.a.createElement(Z.a,{to:"/redux-cats/cat/"+this.state.selectedCat.id}):r.a.createElement(r.a.Fragment,null,this.props.selectedCat&&r.a.createElement("div",{className:"cat-edit"},"new"!==this.id&&r.a.createElement(b.a,{to:"/redux-cats/cat/"+this.props.selectedCat.id},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("form",{onSubmit:this.props.onSubmitCat.bind(this)},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:this.state.selectedCat.name,onChange:this.handleNameChange})),r.a.createElement("label",null,"Age:",r.a.createElement("input",{type:"number",value:this.state.selectedCat.age,onChange:this.handleAgeChange})),r.a.createElement("label",null,"Gender:",r.a.createElement("select",{type:"text",value:this.state.selectedCat.gender,onChange:this.handleGenderChange},r.a.createElement("option",null,"Choose gender"),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female"))),r.a.createElement("div",{className:"wrapper flex p-10 justify-center"},r.a.createElement("button",{type:"submit",className:"pointer"},"save"),"new"!==this.id&&r.a.createElement("button",{type:"button",className:"pointer",onClick:this.props.onDeleteCat.bind(this)},"delete")))))}}]),t}(n.Component);var ce=Object(h.b)(function(e){return{selectedCat:e.catR.selectedCat}},function(e){return{onLoad:function(){var t=Object(o.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(w());case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onEditLoad:function(t){e(R(t))},onSubmitCat:function(t){var a=this;t.preventDefault(),this.state.addCat?(e(N(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatsPage:!0})},300)):(e(S(this.state.selectedCat)),setTimeout(function(){return a.setState({toCatDetails:!0})},300))},onDeleteCat:function(){var t=this;e(A(this.state.selectedCat.id)),setTimeout(function(){return t.setState({toCatsPage:!0})},300)}}})(re),se=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"cats-page text-center"},r.a.createElement("div",null,r.a.createElement("h2",{className:"capitalize p-10"},"homepage under construction")))}}]),t}(n.Component),ie=a(56);var ue=function(){return r.a.createElement("header",{className:"nav-bar"},r.a.createElement(ie.a,{exact:!0,to:"/redux-cats/"},r.a.createElement("h3",{className:"capitalize pointer"},r.a.createElement("i",{className:"fas fa-cat"}))),r.a.createElement("div",null,r.a.createElement(ie.a,{to:"/redux-cats/cat"},"Cat Gallery"),r.a.createElement(ie.a,{to:"/redux-cats/cat/edit/new"},"Add Cat")))},oe=a(58),le=a(59),de=a(55),pe=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.onLoad();case 2:console.log(this.props);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.cats&&r.a.createElement(oe.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ue,null),r.a.createElement(le.a,null,r.a.createElement(de.a,{path:"/redux-cats/",exact:!0,component:se}),r.a.createElement(de.a,{path:"/redux-cats/cat",exact:!0,component:$}),r.a.createElement(de.a,{render:function(e){return r.a.createElement(ce,e)},path:"/redux-cats/cat/edit/:id"}),r.a.createElement(de.a,{path:"/redux-cats/cat/:id",render:function(e){return r.a.createElement(Y,Object.assign({},e,{store:V}))}})))))}}]),t}(n.Component);var me=Object(h.b)(function(e){return{cats:e.catR.cats}},function(e){return{onLoad:function(){e(w())}}})(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(h.a,{store:V},r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.53c1eedc.chunk.js.map